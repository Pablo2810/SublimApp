<!-- BOLETA DE PEDIDO - HTML COMPLETO -->
<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>Boleta de Compra</title>
  <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.0/css/bootstrap.min.css}" />
  <link rel="stylesheet" th:href="@{/css/main.css}" />
  <style>
    html { background-color: #06142e; }
    body {
      font-family: "Lexend Deca", sans-serif;
      background-color: #06142e;
      color: #eee;
      padding: 1rem;
    }
    h2 {
      text-align: center;
      margin: 2rem 0 1.5rem;
      font-weight: 700;
      color: #f8f9fa;
      letter-spacing: 1.2px;
    }
    #boleta {
      max-width: 850px;
      margin: 0 auto;
      background-color: #f9f9f9;
      color: #212529;
      border-radius: 1rem;
      padding: 2.5rem 3rem;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
      font-size: 1.05rem;
    }
    #boleta p { margin-bottom: 0.7rem; }
    #boleta strong { color: #2c3e50; font-weight: 600; }
    .boleta-section {
      margin-bottom: 1.8rem;
      padding-bottom: 1.3rem;
      border-bottom: 1px solid #ccc;
    }
    .boleta-section:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }
    #total-final {
      margin-top: 2rem;
      padding: 2rem;
      background-color: #e6f4ea;
      border: 2px solid #28a745;
      border-radius: 1rem;
      text-align: center;
      color: #155724;
    }
    #total-final h4 {
      margin-bottom: 1rem;
      font-weight: 700;
    }
    #total-final h2 {
      font-size: 3rem;
      font-weight: 900;
    }
    #total-final small {
      font-style: italic;
      color: #3c763d;
    }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
</head>
<body class="p-0 m-0">
<th:block th:replace="templates/nav :: nav"></th:block>

<main class="container mt-5">
  <div id="boleta">
    <h1 class="mb-4">Boleta del Pedido</h1>

    <div class="info boleta-section">
      <p><strong>Código:</strong> <span th:text="${pedido.codigoPedido}"></span></p>
      <p><strong>Fecha:</strong> <span th:text="${#dates.format(pedido.fechaCreacion, 'dd/MM/yyyy')} + ' hs'"></span></p>
      <p><strong>Método de pago:</strong> <span th:text="${pedido.metodoPago}"></span></p>
      <p><strong>Moneda:</strong> <span th:text="${pedido.monedaDePago == T(com.tallerwebi.dominio.entidad.Moneda).DOLAR ? 'Dólares' : 'Pesos'}"></span></p>
      <p><strong>Estado:</strong> <span th:text="${pedido.estado.descripcion}"></span></p>
      <p><strong>Entrega estimada:</strong> <span th:text="${#dates.format(pedido.fechaEntrega, 'dd/MM/yyyy')}"></span></p>
      <p><strong>Usuario:</strong> <span th:text="${pedido.usuarioPedido.nombre}"></span></p>
    </div>

    <h2 class="mt-4">Productos</h2>
    <table class="table table-bordered">
      <thead>
      <tr>
        <th>Prenda</th>
        <th>Talle</th>
        <th>Tela</th>
        <th>Cantidad</th>
        <th>Precio</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="producto : ${pedido.productos}">
        <td th:text="${producto.prenda.descripcion}"></td>
        <td th:text="${producto.talle.descripcion}"></td>
        <td th:text="${producto.tela.tipoTela}"></td>
        <td th:text="${producto.cantidad}"></td>
        <td th:text="${producto.precio} + (pedido.monedaDePago == T(com.tallerwebi.dominio.entidad.Moneda).DOLAR ? ' USD' : ' ARS')"></td>
      </tr>
      </tbody>
    </table>

    <div id="total-final">
      <h4>Total final</h4>
      <h2 th:text="${pedido.montoFinal + (pedido.monedaDePago == T(com.tallerwebi.dominio.entidad.Moneda).DOLAR ? ' USD' : ' ARS')}"></h2>
      <small>(Incluye impuestos y costos de envío)</small>
    </div>
  </div>
</main>

<div th:replace="templates/toasts :: toasts"></div>
<footer style="background-color: #06142e;" th:insert="templates/footer :: footer"></footer>

<script th:src="@{/js/main.js}"></script>
</body>
</html>



